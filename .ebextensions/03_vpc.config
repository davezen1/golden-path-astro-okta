option_settings:
  aws:ec2:vpc:
    VPCId: vpc-0d731c66660f50324
    # Replace with your actual subnet IDs (comma-separated, at least 2 in different AZs)
    Subnets: subnet-xxxxxxxx,subnet-yyyyyyyy
    # Public subnets for the load balancer (if using)
    ELBSubnets: subnet-xxxxxxxx,subnet-yyyyyyyy
    # Set to true if instances need public IPs
    AssociatePublicIpAddress: true
    # Replace with your security group ID(s) (comma-separated)
    # SecurityGroups: sg-xxxxxxxxx

  # Configure to use existing/shared ALB
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
    LoadBalancerIsShared: true

  # Your existing ALB configuration
  aws:elbv2:loadbalancer:
    # Replace with your ALB ARN
    SharedLoadBalancer: arn:aws:elasticloadbalancing:us-gov-east-1:ACCOUNT_ID:loadbalancer/app/YOUR_ALB_NAME/xxxxx
    # SecurityGroups: sg-xxxxxxxxx  # Optional: ALB security groups
    # ManagedSecurityGroup: sg-xxxxxxxxx  # Optional

  # Listener configuration - adjust port and protocol as needed
  aws:elbv2:listener:default:
    ListenerEnabled: true
    # Use the port your ALB listener is configured for
    # DefaultProcess: default
    # Protocol: HTTP
    # Rules: default
